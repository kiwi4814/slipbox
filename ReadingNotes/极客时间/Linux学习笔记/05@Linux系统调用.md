---
Date: 2021-12-12 19:59:06
---
- MetaData
	- Date : 2021-12-12 19:59:06
	- DailyNotes : [[2021-12-12_周日]]
	- Link : [05 | 学会几个系统调用：咱们公司能接哪些类型的项目？ (geekbang.org)](https://time.geekbang.org/column/article/89251)
	- Tag : #ZK卡片  #Linux 

# 创建进程——fork

创建进程的英文叫“fork”，对应着中文的“分支”，why？

因为在Linux中，创建线程是需要拷贝另外一个线程的，这个被拷贝的线程就叫做父进程（Parent Process），新的线程叫子进程（Child Process）。这里作者类比了一个项目的立项，需要Jira和Wiki以及各种其他事项，所以远不如复制粘贴来的有效率。

> 一个项目的执行是很复杂的，需要涉及公司各个部门的工作，比如说，项目管理部门需要给这个项目组开好 Jira 和 Wiki，会议室管理部要为这个项目分配会议室等等。
> 
> 所以，我们现在有两种方式，一种是列一个清单，清单里面写明每个新项目组都要开哪些账号。但是，这样每次有项目，都要重新配置一遍新的 Jira、Wiki，复杂得很。另一种方式就是咱们程序员常用的方式，CTRL/C + CTRL/V。也就是说，如果想为新项目建立一套 Jira，但又觉得一个个填 Jira 里面的选项太麻烦，那就可以拷贝一个别人的，然后根据新项目的实际情况，将相应的配置改改。

# 一切皆文件

**Linux一切皆文件**主要体现在：
- 二进制文件：要执行的程序
- 文本文件：配置文件、写到硬盘里的日志文件等
- 标准输出stdout文件：日志打印到交互控制台上
- [[管道]]文件：这个进程的输出可以作为另外一个进程的输入
- Socket：进程可以通过网络与其他进程进行通信
- 设备：进程需要访问外部设备，设备也是一个文件
- 文件夹本身：文件都被存储在文件夹里
- 进程号：进程运行起来，想要看到进程运行的情况，会在/proc下面有对应的进程号，也是一系列文件

# 信号（Signal）
如何理解Linux中的信号？[[Linux概念之信号]]

# 进程之间的通信
如果数据不大，可以通过消息队列发送消息（message queue）,通过`msgget`创建一个新的队列，`msgsnd`将消息发送到消息队列，而消息接收方可以使用`msgrcv`从队列中取消息。

猜测：

> msgget：message get
> msgsnd：message send
> msgrcv：message receive

如果交换的数据量较大，那么可以采用共享内存的方式。使用`shmget`创建一个内存共享块，使用`shmat`将共享内存映射到自己的内存空间。

对于共享内存时的竞争问题，可以通过信号量机制Semaphore解决。（关联阅读[[Java 信号量Semaphore]]

# 网络通信
不同机器之间的通信通过网络来完成，因此需要遵循共同的网络协议——TCP/IP网络协议栈。

网络服务是通过套接字[[Socket套接字| Socket]]来服务的。

# Glibc
系统调用库，提供了丰富的API，除了[[用户态和内核态 |用户态服务]]之外，最重要的是封装了操作系统提供的系统服务。

![[Pasted image 20211212213117.png]]