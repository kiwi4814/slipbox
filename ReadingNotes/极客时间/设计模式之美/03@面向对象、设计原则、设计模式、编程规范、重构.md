# 03 | 面向对象、设计原则、设计模式、编程规范、重构，这五者有何关系？



## （1）面向对象

主流的编程范式或者说编程风格有三种，分别是面向过程、面向对象和函数式编程。

主要要学习以下7大知识点：

- 面向对象的四大特性：封装、抽象、继承、多态
- 面向对象编程和面向过程编程的区别和联系
- 面向对象分析、面向对象设计、面向对象编程
- 接口和抽象类的区别以及各自的应用场景
- 基于接口而非实现编程的设计思想
- 多用组合少用继承的设计思想
- 面向过程的贫血模型和面向对象的充血模型



## （2）设计原则

- SOLID - SRP 单一职责
- SOLID - OCP 开放关闭原则
- SOLID - LSP里氏替换原则
- SOLID - ISP接口隔离原则
- SOLID - DIP依赖倒置原则
- DRY、KIS、YAGNI、LOD

## （3）设计模式

**创建型**

- 常用的有：单例模式、工厂模式（工厂方法和抽象工厂）、建造者模式。

- 不常用的有：原型模式。

  

**结构型**

- 常用的有：代理模式、桥接模式、装饰者模式、适配器模式。

- 不常用的有：门面模式、组合模式、享元模式。

  

**行为型**

- 常用的有：观察者模式、模板模式、策略模式、职责链模式、迭代器模式、状态模式。
- 不常用的有：访问者模式、备忘录模式、命令模式、解释器模式、中介模式。

## （4）编程规范

识别代码的坏味道

## （5）重构技巧

- 重构的目的（why）、对象（who）、时机（when）、方法（how）
- 保证重构不出错的技术手段：单元测试和代码的可测试性
- 两种不同规模的重构：大重构和小重构



实际上，面向对象、设计原则、设计模式、编程规范、代码重构，这五者都是保持或者提高代码质量的方法论，本质上都是服务于编写高质量代码这一件事的。当我们追本逐源，看清这个本质之后，很多事情怎么做就清楚了，很多选择怎么选也清楚了。比如，在某个场景下，该不该用这个设计模式，那就看能不能提高代码的可扩展性；要不要重构，那就看重代码是否存在可读、可维护问题等。

![img](https://gitee.com/kiwi4814/pictures/raw/master/img/f3262ef8152517d3b11bfc3f2d2b12d3.png)

# 总结
面向对象是基础，设计原则是经验总结和指导原则，设计模式是解决方案（更加具体），编程规范针对的是可读性问题，重构是为了提高代码质量。

# 评论

**精彩的评论：**

>我觉得今年对我来说，是重新认识“面向对象”的一年。
>今年事我工作的第三年了（从八月份开始算第三年），年初的时候误打误撞的学了一段时间的DDD，让我瞬间感受到了什么才是面向对象编程，之前自己做的都是用面向对象的语言写面向过程的代码。究其原因，可能是MVC 三层架构的影响，太多人的代码里头只剩下了pojo这种贫血模型。封装，继承，多态，抽象是啥，早就忘干净了。
>在软件设计方面，很多人习惯了一开始就设计数据库表结构，结果就是代码逻辑跟数据库构成了强耦合，数据库一改，代码基本上会被改个彻底。在这种情况下，我们用的java面向对象的语言，结果却写的是面向过程的代码，这种代码基本没有可维护，可扩展，更没有可测试性一说。所以，面向对象的这个词语，被太多的人只是挂在嘴边上了，落实到代码里边，就成了面向过程。
>在意识到这个问题后，我花了一段时间重新回顾了一遍面向对象的知识，并试图用来改进代码质量，这个过程是充满坎坷的，我总结了一些自己的体会：
>1： 要真正落地面向对象编程，面向对象设计是前提，没有面向对象的设计意识，写着写着就成了面条代码。
>2：以前只知道封装、继承、多态，全然忽视了最重要的抽象，抽象是封装、继承、和多态的基础。合理的抽象源于对业务主体的合理分析和认识。合理的抽象，应该是自洽的，易于理解的。
>3：关于组合和聚合的关系，最核心的区别就是生命周期的区别，组合关系中，整体和部分是一个整体，离开了整体，部分没有意义，同时产生，同时销毁，而聚合关系中，部分单独存在也可以是有意义的。
>4：别滥用继承，继承的作用更多的时候使用多态的特性。
>关于UML ：
>在工作的过程中，试着画过UML图，UML图有着自己一条完整的语言和生态，学习成本还是相当高的，问题在于，即使用了标准的UML 图，如果沟通过程中，对方不懂，也依然效果不大，所以我对UML的感觉就是: 能看懂，会画基本的即可，没必要太追求标准化，虽然如此，但是UML 还是很重要的，它的意义是提供一种面向对象设计的表达方式，是学习面向对象设计中不可缺少的一部分（个人理解）。